{"ast":null,"code":"const axios = require('axios');\n\nconst loadResults = items => {\n  const firstName = items.firstName,\n        destCity = items.destCity,\n        originCity = items.originCity,\n        depDate = items.depDate,\n        returnDate = items.returnDate;\n\n  const getOriginCityId = () => {\n    axios({\n      method: 'GET',\n      url: 'https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/UK/GBP/en-GB/',\n      headers: {\n        'content-type': 'application/octet-stream',\n        'x-rapidapi-host': 'skyscanner-skyscanner-flight-search-v1.p.rapidapi.com',\n        'x-rapidapi-key': '2f3a0e5559mshf0b9a7a94324ff7p1bf4dajsna06e1715474c'\n      },\n      params: {\n        query: originCity\n      }\n    }).then(response => {\n      getDestCityId(response.data.Places[0].PlaceId);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const getDestCityId = originCityId => {\n    axios({\n      method: 'GET',\n      url: 'https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/UK/GBP/en-GB/',\n      headers: {\n        'content-type': 'application/octet-stream',\n        'x-rapidapi-host': 'skyscanner-skyscanner-flight-search-v1.p.rapidapi.com',\n        'x-rapidapi-key': '2f3a0e5559mshf0b9a7a94324ff7p1bf4dajsna06e1715474c'\n      },\n      params: {\n        query: destCity\n      }\n    }).then(response2 => {\n      searchFlights(originCityId, response2.data.Places[0].PlaceId);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const searchFlights = (originCityId, destCityId) => {\n    axios({\n      method: 'POST',\n      url: 'https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/pricing/v1.0',\n      headers: {\n        'content-type': 'application/x-www-form-urlencoded',\n        'x-rapidapi-host': 'skyscanner-skyscanner-flight-search-v1.p.rapidapi.com',\n        'x-rapidapi-key': '2f3a0e5559mshf0b9a7a94324ff7p1bf4dajsna06e1715474c'\n      },\n      data: {\n        inboundDate: depDate,\n        cabinClass: 'business',\n        children: '0',\n        infants: '0',\n        country: 'US',\n        currency: 'USD',\n        locale: 'en-US',\n        originPlace: originCityId,\n        destinationPlace: destCityId,\n        outboundDate: returnDate,\n        adults: '1'\n      }\n    }).then(response => {\n      console.log(response);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  getOriginCityId();\n};\n\nexport default loadResults;","map":{"version":3,"sources":["/Users/rjshoemaker/Desktop/code/projects/myconcierge/client/src/loadResults.js"],"names":["axios","require","loadResults","items","firstName","destCity","originCity","depDate","returnDate","getOriginCityId","method","url","headers","params","query","then","response","getDestCityId","data","Places","PlaceId","catch","error","console","log","originCityId","response2","searchFlights","destCityId","inboundDate","cabinClass","children","infants","country","currency","locale","originPlace","destinationPlace","outboundDate","adults"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAEA,MAAMC,WAAW,GAAGC,KAAK,IAAI;AAAA,QACnBC,SADmB,GACsCD,KADtC,CACnBC,SADmB;AAAA,QACRC,QADQ,GACsCF,KADtC,CACRE,QADQ;AAAA,QACEC,UADF,GACsCH,KADtC,CACEG,UADF;AAAA,QACcC,OADd,GACsCJ,KADtC,CACcI,OADd;AAAA,QACuBC,UADvB,GACsCL,KADtC,CACuBK,UADvB;;AAG3B,QAAMC,eAAe,GAAG,MAAM;AAC5BT,IAAAA,KAAK,CAAC;AACJU,MAAAA,MAAM,EAAE,KADJ;AAEJC,MAAAA,GAAG,EACD,0GAHE;AAIJC,MAAAA,OAAO,EAAE;AACP,wBAAgB,0BADT;AAEP,2BACE,uDAHK;AAIP,0BAAkB;AAJX,OAJL;AAUJC,MAAAA,MAAM,EAAE;AACNC,QAAAA,KAAK,EAAER;AADD;AAVJ,KAAD,CAAL,CAcGS,IAdH,CAcQC,QAAQ,IAAI;AAChBC,MAAAA,aAAa,CAACD,QAAQ,CAACE,IAAT,CAAcC,MAAd,CAAqB,CAArB,EAAwBC,OAAzB,CAAb;AACD,KAhBH,EAiBGC,KAjBH,CAiBSC,KAAK,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KAnBH;AAoBD,GArBD;;AAuBA,QAAML,aAAa,GAAGQ,YAAY,IAAI;AACpCzB,IAAAA,KAAK,CAAC;AACJU,MAAAA,MAAM,EAAE,KADJ;AAEJC,MAAAA,GAAG,EACD,0GAHE;AAIJC,MAAAA,OAAO,EAAE;AACP,wBAAgB,0BADT;AAEP,2BACE,uDAHK;AAIP,0BAAkB;AAJX,OAJL;AAUJC,MAAAA,MAAM,EAAE;AACNC,QAAAA,KAAK,EAAET;AADD;AAVJ,KAAD,CAAL,CAcGU,IAdH,CAcQW,SAAS,IAAI;AACjBC,MAAAA,aAAa,CAACF,YAAD,EAAeC,SAAS,CAACR,IAAV,CAAeC,MAAf,CAAsB,CAAtB,EAAyBC,OAAxC,CAAb;AACD,KAhBH,EAiBGC,KAjBH,CAiBSC,KAAK,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KAnBH;AAoBD,GArBD;;AAuBA,QAAMK,aAAa,GAAG,CAACF,YAAD,EAAeG,UAAf,KAA8B;AAClD5B,IAAAA,KAAK,CAAC;AACJU,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,GAAG,EACD,wFAHE;AAIJC,MAAAA,OAAO,EAAE;AACP,wBAAgB,mCADT;AAEP,2BACE,uDAHK;AAIP,0BAAkB;AAJX,OAJL;AAUJM,MAAAA,IAAI,EAAE;AACJW,QAAAA,WAAW,EAAEtB,OADT;AAEJuB,QAAAA,UAAU,EAAE,UAFR;AAGJC,QAAAA,QAAQ,EAAE,GAHN;AAIJC,QAAAA,OAAO,EAAE,GAJL;AAKJC,QAAAA,OAAO,EAAE,IALL;AAMJC,QAAAA,QAAQ,EAAE,KANN;AAOJC,QAAAA,MAAM,EAAE,OAPJ;AAQJC,QAAAA,WAAW,EAAEX,YART;AASJY,QAAAA,gBAAgB,EAAET,UATd;AAUJU,QAAAA,YAAY,EAAE9B,UAVV;AAWJ+B,QAAAA,MAAM,EAAE;AAXJ;AAVF,KAAD,CAAL,CAwBGxB,IAxBH,CAwBQC,QAAQ,IAAI;AAChBO,MAAAA,OAAO,CAACC,GAAR,CAAYR,QAAZ;AACD,KA1BH,EA2BGK,KA3BH,CA2BSC,KAAK,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KA7BH;AA8BD,GA/BD;;AAiCAb,EAAAA,eAAe;AAChB,CAnFD;;AAqFA,eAAeP,WAAf","sourcesContent":["const axios = require('axios');\n\nconst loadResults = items => {\n  const { firstName, destCity, originCity, depDate, returnDate } = items;\n\n  const getOriginCityId = () => {\n    axios({\n      method: 'GET',\n      url:\n        'https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/UK/GBP/en-GB/',\n      headers: {\n        'content-type': 'application/octet-stream',\n        'x-rapidapi-host':\n          'skyscanner-skyscanner-flight-search-v1.p.rapidapi.com',\n        'x-rapidapi-key': '2f3a0e5559mshf0b9a7a94324ff7p1bf4dajsna06e1715474c'\n      },\n      params: {\n        query: originCity\n      }\n    })\n      .then(response => {\n        getDestCityId(response.data.Places[0].PlaceId);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  const getDestCityId = originCityId => {\n    axios({\n      method: 'GET',\n      url:\n        'https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/UK/GBP/en-GB/',\n      headers: {\n        'content-type': 'application/octet-stream',\n        'x-rapidapi-host':\n          'skyscanner-skyscanner-flight-search-v1.p.rapidapi.com',\n        'x-rapidapi-key': '2f3a0e5559mshf0b9a7a94324ff7p1bf4dajsna06e1715474c'\n      },\n      params: {\n        query: destCity\n      }\n    })\n      .then(response2 => {\n        searchFlights(originCityId, response2.data.Places[0].PlaceId);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  const searchFlights = (originCityId, destCityId) => {\n    axios({\n      method: 'POST',\n      url:\n        'https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/pricing/v1.0',\n      headers: {\n        'content-type': 'application/x-www-form-urlencoded',\n        'x-rapidapi-host':\n          'skyscanner-skyscanner-flight-search-v1.p.rapidapi.com',\n        'x-rapidapi-key': '2f3a0e5559mshf0b9a7a94324ff7p1bf4dajsna06e1715474c'\n      },\n      data: {\n        inboundDate: depDate,\n        cabinClass: 'business',\n        children: '0',\n        infants: '0',\n        country: 'US',\n        currency: 'USD',\n        locale: 'en-US',\n        originPlace: originCityId,\n        destinationPlace: destCityId,\n        outboundDate: returnDate,\n        adults: '1'\n      }\n    })\n      .then(response => {\n        console.log(response);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  getOriginCityId();\n};\n\nexport default loadResults;\n"]},"metadata":{},"sourceType":"module"}